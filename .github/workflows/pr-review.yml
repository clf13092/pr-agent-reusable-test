name: PR Review (External Reusable Workflow Test)

on:
  pull_request:
    types: [opened, reopened, synchronize]

jobs:
  call-simple-test:
    # シンプルなテスト用reusable workflow
    uses: clf13092/copilot_code_review_test/.github/workflows/simple-reusable-test.yml@main
    with:
      message: 'Testing reusable workflow from external repository!'
      
  call-pr-agent:
    # 外部リポジトリのreusable workflowを使用
    uses: clf13092/copilot_code_review_test/.github/workflows/reusable-pr-agent.yml@main
    with:
      custom_instructions_file: 'CODING_STANDARDS.md'
    secrets:
      AWS_ROLE_ARN: ${{ secrets.AWS_ROLE_ARN }}